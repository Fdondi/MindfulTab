<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MindfulTab</title>
    <link rel="stylesheet" href="./newtab.css" />
  </head>
  <body>
    <main class="screen">
      <section id="timer-view" class="card">
        <h1 class="title">How long do you want<br />to use your browser?</h1>
        <p id="last-session-summary" class="last-session-summary hidden"></p>

        <div class="wheel-shell">
          <div id="duration-wheel" class="duration-wheel" role="listbox" aria-label="Choose duration in minutes">
            <!-- Wheel options are generated by script -->
          </div>
          <div class="wheel-highlight"></div>
        </div>

        <label class="reason-label" for="reason-input">Why are you opening tabs? (optional)</label>
        <input
          id="reason-input"
          class="reason-input"
          type="text"
          maxlength="160"
          placeholder="Why are you opening tabs? (optional)"
        />

        <button id="start-btn" class="start-btn" type="button">Start</button>

        <p id="status-text" class="status-text" aria-live="polite"></p>
      </section>

      <section id="home-view" class="home-view hidden">
        <header class="home-header">
          <h2 class="home-title">MindfulTab</h2>
          <div class="home-header-actions">
            <p id="home-timer-status" class="home-timer-status"></p>
            <button id="settings-btn" class="settings-btn" type="button">Settings</button>
          </div>
        </header>

        <div class="search-box">
          <input
            id="url-input"
            class="url-input"
            type="text"
            placeholder="Type a URL or describe your intent"
            autocomplete="off"
          />
          <button id="go-btn" class="go-btn" type="button">Go</button>
        </div>

        <div class="history-mode">
          <label for="history-mode-select">History source</label>
          <select id="history-mode-select">
            <option value="both_with_toggle">Browser + extension</option>
            <option value="browser_history_api">Browser history only</option>
            <option value="extension_only_history">Extension history only</option>
          </select>
        </div>

        <section id="shortcuts-section" class="secondary-card hidden">
          <h3 class="secondary-title">Favorites</h3>
          <ul id="shortcuts-list" class="shortcuts-list"></ul>
        </section>

        <section id="suggestions-section" class="secondary-card hidden">
          <h3 class="secondary-title">Suggestions</h3>
          <ul id="suggestions-list" class="suggestions-list"></ul>
        </section>
      </section>

    </main>

    <script src="../shared/storage.js"></script>
    <script src="../shared/karma.js"></script>
    <script src="../search/embeddings.js"></script>
    <script src="../search/index.js"></script>
    <script src="./newtab.js"></script>
  </body>
</html>
